var Spark = require("../lib/spark");
var board = new Spark({
  token: process.env.SPARK_TOKEN,
  deviceId: process.env.SPARK_DEVICE_BLACK
});

board.on("ready", function() {
  console.log("CONNECTED");

  var byte = 0;

  // (8 * 3) * 4
  for (var i = 0; i < 8; i++) {
    this.pinMode("D" + i, this.MODES.OUTPUT);
    this.pinMode("D" + i, this.MODES.OUTPUT);
    this.pinMode("D" + i, this.MODES.OUTPUT);
  }

  setInterval(function() {
    byte ^= 1;

    for (var i = 0; i < 8; i++) {
      this.digitalWrite("D" + i, byte);
    }
  }.bind(this), 1000);
});

board.on("error", function(error) {
  console.log(error);
});

